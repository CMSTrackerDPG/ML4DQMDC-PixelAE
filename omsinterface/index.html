<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>README - Documentation for the ML4DQM/DC code</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="..">Documentation for the ML4DQM/DC code</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="..">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">omsapi <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../omsapi/">README</a>
</li>
                                    
<li >
    <a href="../omsapi/get_oms_data/">get_oms_data</a>
</li>
                                    
<li >
    <a href="../omsapi/omsapi/">omsapi</a>
</li>
                                    
<li >
    <a href="../omsapi/urls/">urls</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">omsinterface <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li class="active">
    <a href="./">README</a>
</li>
                                    
<li >
    <a href="cert/">cert</a>
</li>
                                    
<li >
    <a href="connectiontools/">connectiontools</a>
</li>
                                    
<li >
    <a href="get_oms_data/">get_oms_data</a>
</li>
                                    
<li >
    <a href="omstools/">omstools</a>
</li>
                                    
<li >
    <a href="urls/">urls</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">run <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../run/">README</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">src <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../src/DataLoader/">DataLoader</a>
</li>
                                    
<li >
    <a href="../src/HistStruct/">HistStruct</a>
</li>
                                    
<li >
    <a href="../src/PlotStyleParser/">PlotStyleParser</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">classifiers</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../src/classifiers/AutoEncoder/">AutoEncoder</a>
</li>
            
<li >
    <a href="../src/classifiers/HistogramClassifier/">HistogramClassifier</a>
</li>
            
<li >
    <a href="../src/classifiers/MaxPullClassifier/">MaxPullClassifier</a>
</li>
            
<li >
    <a href="../src/classifiers/NMFClassifier/">NMFClassifier</a>
</li>
            
<li >
    <a href="../src/classifiers/PCAClassifier/">PCAClassifier</a>
</li>
            
<li >
    <a href="../src/classifiers/TemplateBasedClassifier/">TemplateBasedClassifier</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">cloudfitters</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../src/cloudfitters/CloudFitter/">CloudFitter</a>
</li>
            
<li >
    <a href="../src/cloudfitters/ExponentialFitter/">ExponentialFitter</a>
</li>
            
<li >
    <a href="../src/cloudfitters/GaussianKdeFitter/">GaussianKdeFitter</a>
</li>
            
<li >
    <a href="../src/cloudfitters/HyperRectangleFitter/">HyperRectangleFitter</a>
</li>
            
<li >
    <a href="../src/cloudfitters/IdentityFitter/">IdentityFitter</a>
</li>
            
<li >
    <a href="../src/cloudfitters/LogNormalFitter/">LogNormalFitter</a>
</li>
            
<li >
    <a href="../src/cloudfitters/SeminormalFitter/">SeminormalFitter</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">utils <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../utils/">README</a>
</li>
                                    
<li >
    <a href="../utils/autoencoder_utils/">autoencoder_utils</a>
</li>
                                    
<li >
    <a href="../utils/clustering_utils/">clustering_utils</a>
</li>
                                    
<li >
    <a href="../utils/csv_utils/">csv_utils</a>
</li>
                                    
<li >
    <a href="../utils/dataframe_utils/">dataframe_utils</a>
</li>
                                    
<li >
    <a href="../utils/generate_data_2d_utils/">generate_data_2d_utils</a>
</li>
                                    
<li >
    <a href="../utils/generate_data_utils/">generate_data_utils</a>
</li>
                                    
<li >
    <a href="../utils/hist_utils/">hist_utils</a>
</li>
                                    
<li >
    <a href="../utils/json_utils/">json_utils</a>
</li>
                                    
<li >
    <a href="../utils/mask_utils/">mask_utils</a>
</li>
                                    
<li >
    <a href="../utils/plot_utils/">plot_utils</a>
</li>
                                    
<li >
    <a href="../utils/refruns_utils/">refruns_utils</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../omsapi/urls/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="cert/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p><strong>Tools for obtaining OMS information in json format</strong>  </p>
<p><strong>!WARNING: superseded by newer OMS API version, see omsapi folder (as opposed to omsinterface here)!</strong><br />
The code in this folder still works (on May 21 2021 at least) but it is nowhere used in the other notebooks in this project and will not be maintained. It can however be used as an alternative / backup way of accessing OMS that does not require to register your own app (see omsapi for details), a CERN username and password suffice.</p>
<p>References:<br />
The code is largely based on / copied from the wbmcrawlr tool (<a href="https://github.com/CMSTrackerDPG/wbmcrawlr">https://github.com/CMSTrackerDPG/wbmcrawlr</a>) and the cernrequests package (<a href="https://github.com/CMSTrackerDPG/cernrequests">https://github.com/CMSTrackerDPG/cernrequests</a>) by the Tracker DPG. All credits to the Tracker DPG group, all mistakes in copying or modifying are of course my own.</p>
<p>How to use:  </p>
<ul>
<li>Open example.ipynb  </li>
<li>The configuration should be quite self-explanatory: choose the mode ('run' for run information, 'lumsisections' for per-lumisection information, other modes also available), enter the run number for which to retrieve the information, choose the mode for authentication (via CERN username and password or via CERN grid certificate).  </li>
<li>In case you choose to use a certificate, first edit the file 'cert.py' to set the correct paths to where you stored your certificate and key. Else you will be prompted to enter your username and password.  </li>
<li>Run the cells below, the requested information should now be stored in the specified output json file. Instead, you could also directly use the resulting object in your script without writing it and loading it to a json file.  </li>
</ul>
<p>Notes:  </p>
<ul>
<li>Preliminary implementation, will be extended to e.g. filter on specific data fields only (for example only keep pileup or luminosity per lumisection), etc. Update: no extensions are planned, as this method of accessing OMS is superseded by a new API version, see above.  </li>
<li>The authentication with a certificate still has an issue. For now, you need both a certificate and a username/password to make the data retrieval work. The method using username and password seems to work without additional certificate.  </li>
<li>For more information on how to obtain a certificate, follow this link: <a href="https://github.com/CMSTrackerDPG/cernrequests#prerequisites">https://github.com/CMSTrackerDPG/cernrequests#prerequisites</a>  </li>
<li>One could also install the wbmcrawlr tool (from <a href="here">https://github.com/CMSTrackerDPG/wbmcrawlr</a>) and use it directly. Both methods are equivalent up to now, except these notebooks don't require additional installation of the wbmcrawler tool and cernrequests module.  </li>
</ul></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
